CREATE GENERATOR G_CUPOM_FECHAMENTO;

CREATE TABLE CUPOM_FECHAMENTO
(
 COD_CUPOM_FECHAMENTO INTEGER NOT NULL,
 STATUS CHAR(1),
 DATA_STATUS DATE,
 DATA_MOVIMENTO DATE,
 OPERACAO_CAIXA INTEGER,
 OBSERVACOES VARCHAR(200),
 PRIMARY KEY(COD_CUPOM_FECHAMENTO)
);

CREATE TABLE CUPOM_FECHAMENTO_ITEM
(
 COD_CUPOM_FECHAMENTO INTEGER NOT null, 
 COD_CPRZ INTEGER NOT null, 
 VALOR NUMERIC(15,3),
 PRIMARY KEY(COD_CUPOM_FECHAMENTO, COD_CPRZ)
);

ALTER TABLE CUPOM_FECHAMENTO_ITEM ADD foreign key(COD_CUPOM_FECHAMENTO)
  REFERENCES CUPOM_FECHAMENTO(COD_CUPOM_FECHAMENTO) ON DELETE cascade ON UPDATE CASCADE;